B-B-C, C最重要，link C用loyalty points，直接与C相关，PE-how much 消费者消费

有什么优势，有什么-在智能合约里

## 角色

供应商-**商家**-消费者

芯片、存储 - 手机（电子消费品）- 买

消费者：推荐人——得到一定的购买额的token

推荐人有个推荐address，

## Token

// 拿出10%的股份作为token流通，每个token初始对应0.1股，根据只能合约调整。

公司有前一年的数据，每个token对应的价值应该是利润的10%，后面的token就根据每月的利润调整。

## 合约

针对一个商家

1. 初始化Loyalty Points合约
   1. 存储变量：
      1. 商家地址
      2. 商家发行代币名称
      3. 商家已发行代币数量
      4. 商家月平均利润的5%作为储备金额（单位为USDT）
      5. 商家代币对应的USDT数量
   2. 功能1：查询商家信息
      1. 输入：商家地址
      2. 返回：商家已发行代币数量，商家代币对应的USDT数量
   3. 功能2：发行商家货币
      1. 输入：商家过去一年月平均利润（单位为USDT），发行商家的地址，发行货币名称
      2. 执行：记录月平均利润的5%作为商家储备金额，计算月平均利润的0.01%作为一个token对应的金额
      3. 返回：每个token对应的USDT数量
   4. 功能3：月底审计
      1. 输入：商家地址，当月利润
      2. 执行：使用新的月平均利润的5%来更新商家储备金额，更新每个token应该对应的USDT数量
      3. 返回：每个token对应的USDT数量
   5. 功能4：生成铸币地址
      1. 输入：订单金额，推荐人地址（选填）
      2. 执行：
         1. 如果有推荐人，发行订单金额的4.75%到随机生成地址A，发行订单金额的0.25%对应的token数量到推荐人地址，
         2. 如果没有推荐人，发行订单金额的4.5%到随机生成地址A
      3. 返回：地址A
   6. 功能5：提取token
      1. 输入：提取地址
      2. 执行
         1. 查找是否存在提取地址，铸造提取金额到msg.sender
      3. 返回：提取金额

1. 商家合约：
   1. read方法：
      1. 提供商家地址
      2. 返回
   2. 拿出10%的股份作为token流通，每个token对应0.1股
   3. 如果token交易完了，就应该分红，每个token对应的钱减少。
   4. 如果交易数量少，减少token，增加token价值，每个token对应的股数增加。
2. 用户合约：
   1. 每次奖励token为：消费额的4.5%给到消费用户，如果有推荐人，0.25%给到推荐人，0.25%加给用户。
   2. 抵扣-购买商品时可以使用token作为抵扣，token回收，这次交易不奖励token



## 作用

token的持有占比，可以说明消费者看好商家，可以去跟供应商谈判

如果股价上涨，消费者不愿意使用token，促进消费意愿。

如果股价下跌，消费者害怕以后token不值钱，就会来消费，短期也促进消费。这样的消费，消费者不会选择得到token。

如果有token的人更多，他们会更愿意推荐周边的人购买，因为股价升值。

## 实施

1. Web端，vue+flask，调研在python里面怎么使用wallet
2. 前端功能：
   1. wallet连接
   2. 第一个：公司需要初始的token，通过mint
      1. 输入：利润
      2. 输出：token数量，token价值
   3. 第二个：分配token
      1. 需要用户登录
      2. 输入：买东西的address
      3. 输出：分配到的token
   4. 第三个：回收token
      1. 需要用户登录
      2. 输入：回收数量
      3. 输出：抵扣价格
3. 智能合约：
   1. 商家合约
   2. 用户合约

## 商业模式

#### 实施

1. 可展示的页面
   1. 功能
2. 智能合约
   1. 构建
3. 功能实施
   1. 回购

#### 调研商业模式

1. 背景：
   1. 商家：上市和没上市的，目标是没上市的电子消费品公司
   2. 没上市的无法直接分发股票，通过token来进行替代
   3. 电子消费品，香港-深圳
2. 数据
   1. 调研类似的商店有多少利润，根据利润来定token
   2. 分发多少token，每个token对应多少钱
   3. 推荐人拿多少
   4. 动态调整token数量，分红，回购

